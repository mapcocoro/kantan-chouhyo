/* Component styles */
.input{ 
  @apply w-full rounded-2xl border-2 border-blue-300 px-3 py-3 sm:py-2 bg-blue-50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-blue-500 text-base; 
  min-height: 44px;
  transition: all 0.2s ease-in-out;
}
.input:focus, .input:not(:placeholder-shown) {
  background-color: white;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}
.input:not(:placeholder-shown) {
  box-shadow: none;
}
.btn{ 
  @apply inline-flex items-center justify-center rounded-xl border border-transparent bg-sky-600 px-4 py-3 sm:py-2 text-white hover:bg-sky-700 active:bg-sky-800 text-base font-medium; 
  min-height: 44px;
  touch-action: manipulation;
}
.btn-secondary{ 
  @apply inline-flex items-center justify-center rounded-xl border border-slate-300 bg-white px-4 py-3 sm:py-2 text-slate-700 hover:bg-slate-50 text-base font-medium; 
  min-height: 44px;
  touch-action: manipulation;
}
.card{ @apply border-2 border-blue-200 rounded-2xl p-3 sm:p-4 bg-blue-50 space-y-3 sm:space-y-2; }
.legend{ @apply text-sm font-semibold mb-2 sm:mb-1 text-blue-800; }
.a4{ width:100%; max-width:794px; min-height:1123px; margin:0 auto; }

/* スマホでのタッチ操作改善 */
select.input, textarea.input {
  -webkit-appearance: none;
  appearance: none;
}

/* スマホでのズーム無効化（入力フィールドのフォーカス時） */
@media screen and (max-width: 768px) {
  .input {
    font-size: 16px !important;
  }
}

/* === 印刷・PDF最適化 === */
@page {
  size: A4;
  margin: 15mm 12mm; /* 上下少し広めに */

  /* ブラウザが自動追加するヘッダー・フッターを消す */
  @top-left { content: ""; }
  @top-center { content: ""; }
  @top-right { content: ""; }
  @bottom-left { content: ""; }
  @bottom-center { content: ""; }
  @bottom-right { content: ""; }
}

@media print { 
  /* フォントレンダリング最適化 */
  html { 
    font-size: 16px !important;
    -webkit-print-color-adjust: exact !important;
    color-adjust: exact !important;
  }
  
  /* 日本語フォント強制適用 */
  body, body * {
    font-family: "Hiragino Sans", "Hiragino Kaku Gothic ProN", "Yu Gothic", "Meiryo", sans-serif !important;
    line-height: 1.6 !important;
    letter-spacing: 0.02em !important;
  }
  
  /* 印刷時は紙面(#print-area)だけ可視化 */
  body * { visibility: hidden !important; }
  #print-area, #print-area * { visibility: visible !important; }
  
  #print-area {
    position: fixed !important; 
    inset: 0 !important; 
    margin: 0 !important;
    box-shadow: none !important; 
    border: none !important;
    background: white !important;
    padding: 20mm 15mm !important; /* A4に最適なマージン */
    overflow: visible !important;
    page-break-inside: avoid;
  }
  
  /* 見出し・テキストの印刷最適化 */
  h1, h2, h3, h4, h5, h6 {
    color: #000 !important;
    font-weight: bold !important;
    page-break-after: avoid;
  }
  
  h1 { font-size: 28px !important; margin-bottom: 8mm !important; }
  h2 { font-size: 20px !important; margin-bottom: 6mm !important; }
  h3 { font-size: 16px !important; margin-bottom: 4mm !important; }
  
  /* テーブルの印刷最適化 */
  table {
    border-collapse: collapse !important;
    width: 100% !important;
    page-break-inside: auto;
  }
  
  th, td {
    border: 1px solid #333 !important;
    padding: 3mm 2mm !important;
    font-size: 12px !important;
    line-height: 1.4 !important;
    page-break-inside: avoid;
  }
  
  th {
    background: #f5f5f5 !important;
    font-weight: bold !important;
  }
  
  /* 改ページ制御 */
  .page-break-before { page-break-before: always !important; }
  .page-break-after { page-break-after: always !important; }
  .no-page-break { page-break-inside: avoid !important; }
  
  /* 不要要素を完全に隠す */
  .btn, .btn-secondary, .card, .input, select, textarea, 
  legend, label, .no-print, button, nav, .tooltip,
  [role="tooltip"], button[aria-label] { 
    display: none !important; 
  }
  
  /* リンクのURL表示を無効化 */
  a[href]::after { content: "" !important; }
  
  /* 背景色・影を無効化 */
  *, *::before, *::after {
    background: transparent !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  body { 
    background: #fff !important; 
    margin: 0 !important;
    padding: 0 !important;
  }
  
  /* 印刷用のレイアウト調整 */
  .a4 { 
    width: auto !important; 
    min-height: auto !important; 
    margin: 0 !important;
    max-width: none !important;
  }
  
  /* 数字の印刷最適化 */
  .font-tabular, .text-right {
    font-feature-settings: "tnum" !important;
    font-variant-numeric: tabular-nums !important;
  }
}